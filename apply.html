<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=1, initial-scale=1" />
        <title>Оформление заявки</title>
        <link rel="stylesheet" href="./blueprint/components.css" />
        <script src="./blueprint/components.js"></script>
        <script src="./js/jquery-3.2.0.min.js"></script>
        <!--
        <link rel="stylesheet" href="./blueprint/corporate-components.css" />
        <script src="./blueprint/corporate-components.js"></script>
        -->
        <!--
        <link rel="stylesheet" href="./blueprint/retail-components.css" />
        <script src="./blueprint/retail-components.js"></script>
        -->
    </head>
    <body>
        <a-page>
            <a-header id="header" slot="header">
                <a-user text="Михаил Фридман" slot="user"></a-user>
                <a-menu
                    view="horizontal"
                    content="[
                        {
                            content: 'Главная',
                            value: 'screen1'
                        },
                        {
                            content: 'Справка',
                            value: 'screen2'
                        },
                        {
                            content: 'Контакты',
                            value: 'screen3'
                        }
                    ]"
                    slot="menu"
                ></a-menu>
            </a-header>
            <a-app-title>
                <a-heading id="page-heading" size="xl">Оформление заявки</a-heading>
            </a-app-title>
            <a-app-content>
                <a-paragraph>
                    В нашем банке Вы можете оформить кредитную карту по одной из представленных Вашему вниманию
                    кредитных программ. Для того, чтобы оставить свою заявку на получение субсидии, необходимо
                    заполнить анкету ниже.
                </a-paragraph>
                <a-form size="m" id="apply-form" class="apply-form">
                    <a-form-field size="m">
                        <slot name="content">
                            <a-input  width="available" max-length="20" size="m" placeholder="Фамилия"></a-input>
                        </slot>
                    </a-form-field>

                    <a-form-field size="m">
                        <slot name="content">
                            <a-input  width="available" max-length="20" size="m" placeholder="Имя"></a-input>
                        </slot>
                    </a-form-field>

                    <a-form-field size="m">
                        <slot name="content">
                            <a-input  width="available" max-length="20" size="m" placeholder="Отчество"></a-input>
                        </slot>
                    </a-form-field>

                    <a-form-field size="m">
                        <slot name="label">
                            <a-label size="m">Пол</a-label>
                        </slot>
                        <slot name="content">
                            <a-radio-group type="line">
                                <a-radio text="Мужской" checked="true"></a-radio>
                                <a-radio text="Женский"></a-radio>
                            </a-radio-group>
                        </slot>
                    </a-form-field>

                    <a-form-field size="m">
                        <slot name="content">
                            <a-phone-input width="available" size="m" placeholder="Мобильный телефон"></a-phone-input>
                        </slot>
                    </a-form-field>

                    <a-form-field size="m">
                        <slot name="content">
                            <a-email-input width="available" size="m" placeholder="Электронная почта"></a-email-input>
                        </slot>
                    </a-form-field>

                    <a-form-field size="m">
                        <a-checkbox id="apply-cb-special" text="У меня нет возможности подтвердить данные через голосовую связь"></a-checkbox>
                        <a-dropdown switcher-text="Что это значит?" mode="hover">
                            <div slot="popup-content" size="s" style="width: 400px;">
                                <span>
                                    Данная опция рассчитана на клиентов, у которых возникают затруднения при
                                    личном общении с оператором. В таком случае, им будет предложен альтернативный
                                    вариант подтверждения операции.
                                </span>
                            </div>
                        </a-dropdown>
                    </a-form-field>

                    <div id="apply-cont-special-validate" style="display: none;">
                        <a-app-title>
                            <a-heading size="l">Подтверждение личности</a-heading>
                        </a-app-title>
                        <a-form-field size="s">
                            <slot name="content">
                                <a-input id="apply-code" width="available" max-length="20" size="m" placeholder="Код из SMS-сообщения"></a-input>
                            </slot>
                        </a-form-field>

                        <a-form-field size="s">
                            <slot name="content">
                                <a-button id="apply-code-validate" view="action" size="m">Проверить код</a-button>
                                <a-button id="apply-code-send" size="m">Отправить SMS с кодом</a-button>
                            </slot>
                        </a-form-field>
                    </div>

                    <a-form-field>
                        <a-button id="apply-btn-submit" view="extra" size="l" type="submit">Подать заявку</a-button>
                    </a-form-field>
                </a-form>
            </a-app-content>
            <a-footer slot="footer"></a-footer>
        </a-page>
        <script type="text/javascript">
            $(document).ready(function(){
                $("#apply-cb-special").on("change", toggle_special);
                $("#apply-btn-submit").on("click", apply_ok);
                $("#apply-code-validate").on("click", validate_code);
                $("#apply-code-send").on("click", send_code);
                $("#header").on("click", function(){ window.location.href = "index.html"});
            });
            var checkedSpecial = false;
            var toggle_special = function(){
                checkedSpecial = !checkedSpecial;
                $("#apply-cont-special-validate").fadeToggle(500);
                $('html, body').animate({
                    scrollTop: $("#page-heading").offset().top
                }, 500);
            };

            var apply_ok = function(){
                if (checkedSpecial) {
                    window.location.href = "apply_ok_special.html"
                } else {
                    window.location.href = "apply_ok_basic.html"
                }
            };

            var validate_code = function(){
                // Валидация кода для регистрации
                $("#apply-code").val();
            };

            var send_code = function(){
                // Отправка кода для регистрации
            };
        </script>
    </body>
</html>
